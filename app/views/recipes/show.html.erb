<div class="container" 
     data-controller="recipe-show"
     data-recipe-show-recipe-id-value="<%= @recipe.id %>">
  
  <!-- Recipe content will be loaded here -->
  <div data-recipe-show-target="content">
    <!-- Loading state -->
    <div style="text-align: center; padding: 40px;">
      <p>Loading recipe...</p>
    </div>
  </div>

  <!-- Comments Section -->
  <div class="content-section">
    <h2>Comments</h2>
    
    <!-- Add Comment Form -->
    <div class="comment-form" data-recipe-show-target="commentForm">
      <form data-action="submit->recipe-show#submitComment">
        <div class="form-group">
          <label>Add a comment</label>
          <textarea 
            rows="3" 
            class="form-control" 
            placeholder="Share your thoughts..."
            data-recipe-show-target="commentInput"
            required></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Post Comment</button>
      </form>
    </div>

    <!-- Comments List -->
    <div class="comments-list" data-recipe-show-target="commentsList">
      <!-- Comments will be loaded here -->
    </div>
  </div>

  <!-- Footer Navigation -->
  <div class="recipe-footer">
    <%= link_to "â† Back to All Recipes", recipes_path, class: "btn btn-secondary" %>
  </div>
</div>

<!-- Store current user ID for permission checks -->
<% if current_user %>
  <script>
    document.body.dataset.currentUserId = '<%= current_user.id %>';
  </script>
<% end %>