<div class="container" data-controller="recipes search" data-current-user-id="<%= current_user&.id %>">
  <div class="header">
    <h1>Recipes</h1>
    <%= link_to "Create New Recipe", new_recipe_path, class: "btn btn-primary" %>
  </div>

  <!-- Toggle between All Recipes and My Recipes -->
  <div class="recipes-filter-tabs">
    <button class="filter-tab active" 
            data-action="click->recipes#loadAllRecipes"
            data-recipes-target="allRecipesTab">
      All Recipes
    </button>
    <% if current_user %>
      <button class="filter-tab" 
              data-action="click->recipes#loadMyRecipes"
              data-recipes-target="myRecipesTab">
        My Recipes
      </button>
    <% end %>
  </div>

  <!-- Search Box -->
  <div class="search-container">
    <div class="search-wrapper">
      <input 
        type="text" 
        placeholder="Search recipes by title or tags..." 
        class="search-input"
        data-search-target="input"
        data-action="input->search#filter">
      <button 
        type="button" 
        class="clear-btn"
        data-action="click->search#clear"
        title="Clear search">
        âœ•
      </button>
    </div>
  </div>

  <!-- Recipes Grid -->
  <div class="recipes-grid" data-recipes-target="grid">
    <!-- Recipes will be loaded here via JavaScript -->
  </div>

  <!-- Empty State -->
  <div class="empty-state" style="display: none;" data-recipes-target="emptyState">
    <p id="empty-message">No recipes yet. Create your first recipe!</p>
    <%= link_to "Create Recipe", new_recipe_path, class: "btn btn-primary" %>
  </div>
</div>